(window.webpackJsonp=window.webpackJsonp||[]).push([[50,49,52,62],{570:function(e,t,r){var content=r(574);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("6333d4fe",content,!0,{sourceMap:!1})},571:function(e,t,r){var content=r(578);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("ea78411c",content,!0,{sourceMap:!1})},572:function(e,t,r){"use strict";r.r(t);var n={name:"LoadingSpinner"},o=(r(573),r(55)),component=Object(o.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"text-center",staticStyle:{"margin-top":"10px"}},[e("div",{staticClass:"lds-ring"},[e("div"),e("div"),e("div"),e("div")])])}],!1,null,"6f49ae7c",null);t.default=component.exports},573:function(e,t,r){"use strict";r(570)},574:function(e,t,r){var n=r(22)(!1);n.push([e.i,".lds-ring[data-v-6f49ae7c]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div[data-v-6f49ae7c]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:5px;border-radius:50%;-webkit-animation:lds-ring-6f49ae7c 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring-6f49ae7c 1.2s cubic-bezier(.5,0,.5,1) infinite;border:5px solid transparent;border-top-color:#2196f3}.lds-ring div[data-v-6f49ae7c]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring div[data-v-6f49ae7c]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring div[data-v-6f49ae7c]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring-6f49ae7c{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-ring-6f49ae7c{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),e.exports=n},576:function(e,t,r){"use strict";r.r(t);var n={name:"LoadingSpinner"},o=(r(577),r(55)),component=Object(o.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"text-center",staticStyle:{"margin-top":"10px"}},[e("div",{staticClass:"lds-ring"},[e("div"),e("div"),e("div"),e("div")])])}],!1,null,"7abf2e4c",null);t.default=component.exports},577:function(e,t,r){"use strict";r(571)},578:function(e,t,r){var n=r(22)(!1);n.push([e.i,".lds-ring[data-v-7abf2e4c]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div[data-v-7abf2e4c]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:5px;border-radius:50%;-webkit-animation:lds-ring-7abf2e4c 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring-7abf2e4c 1.2s cubic-bezier(.5,0,.5,1) infinite;border:5px solid transparent;border-top-color:#2196f3}.lds-ring div[data-v-7abf2e4c]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring div[data-v-7abf2e4c]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring div[data-v-7abf2e4c]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring-7abf2e4c{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-ring-7abf2e4c{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),e.exports=n},601:function(e,t,r){var content=r(602);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("5db1c400",content,!0,{sourceMap:!1})},602:function(e,t,r){var n=r(22)(!1);n.push([e.i,'.theme--light.v-alert .v-alert--prominent .v-alert__icon:after{background:rgba(0,0,0,.12)}.theme--dark.v-alert .v-alert--prominent .v-alert__icon:after{background:hsla(0,0%,100%,.12)}.v-sheet.v-alert{border-radius:4px}.v-sheet.v-alert:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-alert.v-sheet--shaped{border-radius:24px 4px}.v-alert{display:block;font-size:16px;margin-bottom:16px;padding:16px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-alert:not(.v-sheet--tile){border-radius:4px}.v-application--is-ltr .v-alert>.v-alert__content,.v-application--is-ltr .v-alert>.v-icon{margin-right:16px}.v-application--is-rtl .v-alert>.v-alert__content,.v-application--is-rtl .v-alert>.v-icon{margin-left:16px}.v-application--is-ltr .v-alert>.v-icon+.v-alert__content{margin-right:0}.v-application--is-rtl .v-alert>.v-icon+.v-alert__content{margin-left:0}.v-application--is-ltr .v-alert>.v-alert__content+.v-icon{margin-right:0}.v-application--is-rtl .v-alert>.v-alert__content+.v-icon{margin-left:0}.v-alert__border{border-style:solid;border-width:4px;content:"";position:absolute}.v-alert__border:not(.v-alert__border--has-color){opacity:.26}.v-alert__border--left,.v-alert__border--right{bottom:0;top:0}.v-alert__border--bottom,.v-alert__border--top{left:0;right:0}.v-alert__border--bottom{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0}.v-application--is-ltr .v-alert__border--left{border-top-left-radius:inherit;border-bottom-left-radius:inherit;left:0}.v-application--is-ltr .v-alert__border--right,.v-application--is-rtl .v-alert__border--left{border-top-right-radius:inherit;border-bottom-right-radius:inherit;right:0}.v-application--is-rtl .v-alert__border--right{border-top-left-radius:inherit;border-bottom-left-radius:inherit;left:0}.v-alert__border--top{border-top-left-radius:inherit;border-top-right-radius:inherit;top:0}.v-alert__content{flex:1 1 auto}.v-application--is-ltr .v-alert__dismissible{margin:-16px -8px -16px 8px}.v-application--is-rtl .v-alert__dismissible{margin:-16px 8px -16px -8px}.v-alert__icon{align-self:flex-start;border-radius:50%;height:24px;min-width:24px;position:relative}.v-application--is-ltr .v-alert__icon{margin-right:16px}.v-application--is-rtl .v-alert__icon{margin-left:16px}.v-alert__icon.v-icon{font-size:24px}.v-alert__wrapper{align-items:center;border-radius:inherit;display:flex}.v-application--is-ltr .v-alert--border.v-alert--prominent .v-alert__icon{margin-left:8px}.v-application--is-rtl .v-alert--border.v-alert--prominent .v-alert__icon{margin-right:8px}.v-alert--dense{padding-top:8px;padding-bottom:8px}.v-alert--dense .v-alert__border{border-width:medium}.v-alert--outlined{background:transparent!important;border:thin solid!important}.v-alert--outlined .v-alert__icon{color:inherit!important}.v-alert--prominent .v-alert__icon{align-self:center;height:48px;min-width:48px}.v-alert--prominent .v-alert__icon.v-icon{font-size:32px}.v-alert--prominent .v-alert__icon.v-icon:after{background:currentColor!important;border-radius:50%;bottom:0;content:"";left:0;opacity:.16;position:absolute;right:0;top:0}.v-alert--prominent.v-alert--dense .v-alert__icon.v-icon:after{transform:scale(1)}.v-alert--text{background:transparent!important}.v-alert--text:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:.12;position:absolute;pointer-events:none;right:0;top:0}',""]),e.exports=n},603:function(e,t,r){var content=r(604);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("5c8fbe94",content,!0,{sourceMap:!1})},604:function(e,t,r){var n=r(22)(!1);n.push([e.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:#fff}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:hsla(0,0%,100%,.5)}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:hsla(0,0%,100%,.5)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:rgba(0,0,0,.38)}.v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{padding-top:2px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__control textarea{caret-color:auto}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),e.exports=n},634:function(e,t,r){"use strict";r(17),r(16),r(15),r(8),r(24),r(14),r(25);var n=r(2),o=(r(44),r(601),r(124)),l=r(122),c=r(81),d=r(100),f=r(27),v=r(1).default.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),m=r(9),h=r(12);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(m.a)(o.a,d.a,v).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"==typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var data={staticClass:"v-alert__border",class:Object(n.a)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&((data=this.setBackgroundColor(this.computedColor,data)).class["v-alert__border--has-color"]=!0),this.$createElement("div",data)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(l.a,{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(c.a,{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(c.a,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=_(_({},o.a.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||f.a.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(h.a)("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var data={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};this.coloredBorder||(data=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,data));return this.$createElement("div",data,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},635:function(e,t,r){"use strict";r(17),r(16),r(15),r(8),r(24),r(14),r(25);var n=r(2),o=(r(32),r(61),r(603),r(173)),l=r(9);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d=Object(l.a)(o.a);t.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(e){var t=this;this.$nextTick((function(){var r;e?t.calculateInputHeight():null===(r=t.$refs.input)||void 0===r||r.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var e=input.scrollHeight,t=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(t,e)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(e){o.a.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},644:function(e,t,r){var content=r(684);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("48777519",content,!0,{sourceMap:!1})},645:function(e,t,r){var content=r(686);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("46943690",content,!0,{sourceMap:!1})},677:function(e,t,r){"use strict";r.r(t);var n=r(634),o=r(121),l=(r(34),r(64),r(61),r(383),{props:["imgSrcIn","index","fileType","fileName","fileWidth","fileHeight"],data:function(){return{label:"Portrait",isCropping:!1,scaleX:1,scaleY:1,aspectRatio:4/3,imgSrc:null,cropImg:"",data:null,imgStyle:{height:"350px"},error:null,success:null}},mounted:function(){this.imgSrc=this.imgSrcIn,this.$refs.cropper.replace(this.imgSrc)},watch:{isCropping:function(e){this.$emit("isCropping",e)},cropImg:function(e){this.imgSrc=null,this.$emit("cropImg",{img:e,index:this.index,fileType:this.fileType,fileName:this.fileName}),this.isCropping=!1},imgSrcIn:{handler:function(e){this.imgSrc=e,this.$refs.cropper.replace(this.imgSrc)},deep:!0}},methods:{calculateCoeff:function(e,t){return 100*("width"==t?600:350)/e*.01},cropImage:function(){var e=this;this.isCropping=!0,setTimeout((function(){try{e.cropImg=e.$refs.cropper.getCroppedCanvas().toDataURL(e.fileType)}catch(t){e.isCropping=!1,e.error="Some error occured"+t,setTimeout((function(){e.error=null}),2e3)}}),1e3)},flipX:function(){this.scaleX=-this.scaleX,this.$refs.cropper.scaleX(this.scaleX)},flipY:function(){this.scaleY=-this.scaleY,this.$refs.cropper.scaleY(this.scaleY)},getCropBoxData:function(){this.data=JSON.stringify(this.$refs.cropper.getCropBoxData(),null,4)},getData:function(){this.data=JSON.stringify(this.$refs.cropper.getData(),null,4)},move:function(e,t){this.$refs.cropper.move(e,t)},reset:function(){this.$refs.cropper.reset()},rotate:function(e){this.$refs.cropper.rotate(e)},setCropBoxData:function(){this.data&&this.$refs.cropper.setCropBoxData(JSON.parse(this.data))},setData:function(){this.data&&this.$refs.cropper.setData(JSON.parse(this.data))},setImage:function(e){var t=this;if(-1!==e.type.indexOf("image/"))if("function"==typeof FileReader){var r=new FileReader;r.onload=function(e){t.imgSrc=e.target.result,t.$refs.cropper.replace(e.target.result)},r.readAsDataURL(e)}else alert("Sorry, FileReader API not supported");else alert("Please select an image file")},showFileChooser:function(){this.$refs.input.click()},zoom:function(e){this.$refs.cropper.relativeZoom(e)},setAspectRatio:function(){this.aspectRatio>1?(this.$refs.cropper.setAspectRatio(3/4),this.aspectRatio=3/4,this.label="Landscape",this.$forceUpdate()):(this.$refs.cropper.setAspectRatio(4/3),this.aspectRatio=4/3,this.label="Portrait",this.$forceUpdate())},setFreeAspectRatio:function(){this.$refs.cropper.setAspectRatio(NaN),this.label="Fixed Mode",this.aspectRatio=NaN,this.$forceUpdate()}}}),c=(r(683),r(685),r(55)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"content"},[t("section",{staticClass:"cropper-area"},[t(n.a,{staticStyle:{position:"fixed",left:"50%","z-index":"100",bottom:"50px",transform:"translate(-50%, -50%)",margin:"0 auto"},attrs:{type:"success",value:!!e.success}},[e._v(e._s(e.success))]),e._v(" "),t(n.a,{staticStyle:{position:"fixed",left:"50%","z-index":"100",bottom:"50px",transform:"translate(-50%, -50%)",margin:"0 auto"},attrs:{type:"error",value:!!e.error}},[e._v(e._s(e.error))]),e._v(" "),t("div",{staticClass:"img-cropper",staticStyle:{"min-height":"350px"}},[t("vue-cropper",{ref:"cropper",attrs:{src:e.imgSrc,"aspect-ratio":e.aspectRatio,imgStyle:e.imgStyle,autoCropArea:1,viewMode:1,background:!1,dragMode:"move"}})],1),e._v(" "),t("div",{staticClass:"actions"},[t("div",{staticClass:"d-flex justify-center align-center flex-wrap"},[t(o.a,{staticClass:"button",attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.rotate(90)}}},[e._v("\n          Rotate +90deg\n        ")]),e._v(" "),t(o.a,{ref:"flipX",staticClass:"button",attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.flipX.apply(null,arguments)}}},[e._v("\n          Flip X\n        ")]),e._v(" "),t(o.a,{ref:"flipY",staticClass:"button",attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.flipY.apply(null,arguments)}}},[e._v("\n          Flip Y\n        ")]),e._v(" "),t(o.a,{ref:"flipX",staticClass:"button",attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.setFreeAspectRatio.apply(null,arguments)}}},[e._v("\n          Free Mode\n        ")]),e._v(" "),t(o.a,{staticClass:"button",attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.setAspectRatio.apply(null,arguments)}}},[e._v("\n          "+e._s(this.label)+"\n        ")]),e._v(" "),t(o.a,{staticClass:"button",attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.reset.apply(null,arguments)}}},[e._v("\n          Reset\n        ")]),e._v(" "),t(o.a,{staticClass:"button",staticStyle:{"background-color":"red !important",color:"white"},attrs:{disabled:e.isCropping},on:{click:function(t){return t.preventDefault(),e.cropImage.apply(null,arguments)}}},[e._v("\n        "+e._s(e.isCropping?"Cropping...":"Crop & Upload")+"\n        ")])],1)])],1)])])}),[],!1,null,null,null);t.default=component.exports},683:function(e,t,r){"use strict";r(644)},684:function(e,t,r){var n=r(22)(!1);n.push([e.i,'/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:11.623Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""]),e.exports=n},685:function(e,t,r){"use strict";r(645)},686:function(e,t,r){var n=r(22)(!1);n.push([e.i,".cropper-container{max-width:100%!important;height:350px!important}.cropper-bg,.cropper-container{max-height:350px!important;overflow:hidden}.img-container img{height:100%}.cropper-area{width:100%}.actions{margin-top:1rem;flex-wrap:wrap}.actions,.actions .button{display:flex;justify-content:center;align-items:center}.actions .button{padding:5px 15px;background-color:#0062cc!important;color:#fff!important;text-decoration:none;border-radius:3px;margin-right:1rem;margin-bottom:1rem}.img-cropper{max-height:350px;background-color:#000}.cropper-crop-box{z-index:0}.crop-placeholder{width:100%;height:200px}.cropper-modal{opacity:0}.cropper-canvas{z-index:0}.cropped-image img{max-height:100%}",""]),e.exports=n},880:function(e,t,r){"use strict";r.r(t);var n=r(634),o=r(121),l=r(111),c=r(91),d=r(380),f=r(566),v=r(267),m=r(120),h=r(379),x=r(266),_=r(635),w=(r(43),r(17),r(16),r(15),r(24),r(25),r(2)),y=r(19),I=r(83),k=(r(57),r(8),r(45),r(61),r(34),r(76),r(172),r(747),r(748),r(749),r(750),r(751),r(752),r(753),r(754),r(755),r(756),r(757),r(758),r(759),r(760),r(761),r(762),r(763),r(764),r(765),r(766),r(767),r(768),r(769),r(770),r(771),r(14),r(82),r(39),r(212),r(36),r(677)),C=r(572);function A(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(t){Object(w.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{ImageCropper:k.default,Spinner:C.default},data:function(){return{isDeletingImage:!1,success:null,error:null,selectedIndex:null,imgFailed:!1,confirmDialog:!1,isCropping:!1,isLoading:[],imgSrc:null,fileImageCropper:{name:"",type:"",width:0,height:0},cropDialog:[],eventImages:null,FULL_IMAGE:{maxDimension:1280,quality:.9},THUMB_IMAGE:{maxDimension:640,quality:.7},fileType:"file",acceptType:"image/*"}},computed:{isMobileScreen:function(){return!(window.innerWidth>800)},isReallyMobileScreen:function(){return!(window.innerWidth>=600)},eventImagesReversedLength:function(){var e=Object(I.a)(Array(this.eventImages.images.length).keys());return e.reverse(),e}},props:{value:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1}},watch:{value:{handler:function(e){this.eventImages=e},deep:!0,immediate:!0},eventImages:{handler:function(e){this.$emit("input",e)},deep:!0}},methods:{startDeleteImage:function(e){var t=this;if(this.isDeletingImage)return this.error="Wait a moment and click again...",void setTimeout((function(){t.error=null}),2e3);this.selectedIndex=e,this.confirmDialog=!0},isCroppingHandler:function(e){this.isCropping=e},dataURLtoFile:function(e,t,r){for(var n=e.split(","),o=(n[0].match(/:(.*?);/)[1],atob(n[1])),l=o.length,c=new Uint8Array(l);l--;)c[l]=o.charCodeAt(l);return new File([c],t,{type:r})},cropImgEventHandler:function(e){this.cropDialog[e.index]=!1,this.$forceUpdate(),this.imageSrc="",this.removeInputImageFile(e.index);var t=this.dataURLtoFile(e.img,e.fileName,e.fileType);this.uploadImageFile([t],e.index)},getEventImages:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&e.id){r.next=3;break}return t.eventImages=null,r.abrupt("return");case 3:return n=e.id,r.next=6,t.$fire.firestore.collection("eventImages").where("userId","==",t.user.uid).where("eventId","==",n).get().then((function(e){var t=[];return e.forEach((function(e){var r=e.id,data=e.data();t.push(S({id:r},data))})),t}));case 6:if((o=r.sent)[0]){r.next=11;break}return o={userId:t.user.uid,eventId:n,comment:"",createdAt:Date.now().toString(),updatedAt:Date.now().toString(),images:[]},r.next=11,t.$fire.firestore.collection("eventImages").add(o).then((function(e){o=[S(S({},o),{},{id:e.id})]})).catch((function(e){console.log(e)}));case 11:t.eventImages=S({userId:t.user.uid,eventId:n,comment:"",createdAt:Date.now().toString(),updatedAt:Date.now().toString(),images:[]},o[0]);case 12:case"end":return r.stop()}}),r)})))()},updateImageFirestore:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Date.now().toString(),data={userId:e.eventImages.userId,eventId:e.eventImages.eventId,images:e.eventImages.images,comment:e.eventImages.comment,createdAt:e.eventImages.images.length?e.eventImages.createdAt:r,updatedAt:r},t.next=5,e.$fire.firestore.collection("eventImages").doc(e.eventImages.id).update(data).then((function(){e.success="Successfully updated!!",e.$emit("imageUpdating",!1),e.$emit("imageUpdated",!0),setTimeout((function(){e.success=null}),2e3)}));case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.error="Could not set user information",setTimeout((function(){e.error=null}),2e3);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteImage:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.$fire.storage.refFromURL(t.eventImages.images[e].imageUrl).delete(),o=t.$fire.storage.refFromURL(t.eventImages.images[e].teaserImageUrl).delete(),r.abrupt("return",Promise.all([n,o]).then(Object(y.a)(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(t.eventImages.images[e].imageUrl="",t.eventImages.images[e].teaserImageUrl="",t.eventImages.images[e].width&&delete t.eventImages.images[e].width,t.eventImages.images[e].height&&delete t.eventImages.images[e].height,i=e;i>0;i--)n=t.eventImages.images[i],t.eventImages.images[i]=t.eventImages.images[i-1],t.eventImages.images[i-1]=n;return t.eventImages.images.shift(),t.cropDialog.splice(e,1),t.isLoading.splice(e,1),t.$forceUpdate(),r.next=11,t.updateImageFirestore();case 11:return r.abrupt("return",null);case 12:case"end":return r.stop()}}),r)})))).catch(function(){var r=Object(y.a)(regeneratorRuntime.mark((function r(n){var i,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.error("Error deleting image",n),"storage/object-not-found"!==n.code){r.next=13;break}for(t.eventImages.images[e].imageUrl="",t.eventImages.images[e].teaserImageUrl="",t.eventImages.images[e].width&&delete t.eventImages.images[e].width,t.eventImages.images[e].height&&delete t.eventImages.images[e].height,i=e;i>0;i--)o=t.eventImages.images[i],t.eventImages.images[i]=t.eventImages.images[i-1],t.eventImages.images[i-1]=o;return t.eventImages.images.shift(),t.cropDialog.splice(e,1),t.isLoading.splice(e,1),t.$forceUpdate(),r.next=13,t.updateImageFirestore();case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()));case 3:case"end":return r.stop()}}),r)})))()},launchImageFile:function(e){var t="imageFile".concat(e);this.$refs[t][0].click()},removeInputImageFile:function(e){var t="imageFile".concat(e);this.$refs[t][0].value=null},multiImageMiddleware:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){var n,o,l,c,d,f,v,m,h,x,_;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.isAdmin?50:20,e.length){r.next=4;break}return r.abrupt("return");case 4:if(!(e.length>n-t.eventImages.images.length)){r.next=8;break}return t.error="Cannot add more than ".concat(n," Photos. Please remove some photos first."),setTimeout((function(){t.error=null}),5e3),r.abrupt("return");case 8:if(o=!0,l="",e.forEach((function(e){e.type.match("image.*")||(l+="Some Files aren't Image Format. ",o=!1),e.size>2e7&&(l+="Image size should be less than 20 MB!",o=!1)})),o){r.next=15;break}return t.error=l,setTimeout((function(){t.error=null}),5e3),r.abrupt("return");case 15:return t.$emit("imageUpdating",!0),c=[],d=t.eventImages.images.length,f=[],v=[],e.forEach((function(e){var r=t.eventImages.images.length;t.eventImages.images.push({imageUrl:"",teaserImageUrl:""}),t.isLoading.push(!1),c.push.apply(c,Object(I.a)(t.uploadPromise([e],r))),f.push(e.name),v.push({contentType:e.type})})),m=[],h=[],r.next=25,Promise.all(c).then((function(e){e.forEach((function(e,i){i%2==0?h.push(e):(h.push(e),m.push(h),h=[])}))}));case 25:return x=[],m.forEach((function(e,i){x.push.apply(x,Object(I.a)(t.multiImagePromise(e,f[i],v[i])))})),m=[],h=[],r.next=31,Promise.all(x).then((function(e){e.forEach((function(e,i){i%2==0?h.push(e):(h.push(e),m.push(h),h=[])}))}));case 31:return _=[],m.forEach((function(e,i){var r=i+d;t.eventImages.images[r].imageUrl=e[0],t.eventImages.images[r].teaserImageUrl=e[1];var n=new Promise((function(n,o){var img=new Image;img.onload=function(){t.eventImages.images[r].width=img.width,t.eventImages.images[r].height=img.height,t.isLoading[r]=!1,n(img)},img.onerror=function(e){return o(e)},img.src=e[1]}));_.push(n)})),r.next=35,Promise.all(_);case 35:return r.next=37,t.updateImageFirestore();case 37:t.$forceUpdate(),t.removeMultiInputImageFile();case 39:case"end":return r.stop()}}),r)})))()},imageMiddleware:function(e,t){var r=this;return Object(y.a)(regeneratorRuntime.mark((function n(){var o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.length){n.next=3;break}return n.abrupt("return");case 3:if((o=e[0]).type.match("image.*")){n.next=7;break}return alert("Please upload an image."),n.abrupt("return");case 7:if(!(o.size>2e7)){n.next=10;break}return alert("Image size should be less than 20 MB!"),n.abrupt("return");case 10:(l=new FileReader).readAsDataURL(o),l.addEventListener("load",(function(){r.imgSrc=l.result,r.fileImageCropper.name=o.name,r.fileImageCropper.type=o.type,r.cropDialog[t]=!0,r.$forceUpdate(),l=null}),!1);case 13:case"end":return n.stop()}}),n)})))()},multiImagePromise:function(e,t,r){var n=Date.now().toString(),o=this.uploadSingleImageFile(n+"_"+t,e[0],r),l=n+"_"+t.substring(0,t.lastIndexOf("."))+"_thumb."+t.substring(t.lastIndexOf(".")+1);return[o,this.uploadSingleImageFile(l,e[1],r)]},uploadPromise:function(e,t){var r=this;if(e.length){this.isLoading[t]=!0;var n=e[0];if(this.$forceUpdate(),n.type.match("image.*"))return[new Promise((function(e,t){r.generateVariation(n,r.FULL_IMAGE.maxDimension,r.FULL_IMAGE.quality,e)})),new Promise((function(e,t){r.generateVariation(n,r.THUMB_IMAGE.maxDimension,r.THUMB_IMAGE.quality,e)}))];alert("Please upload an image.")}},uploadImageFile:function(e,t){var r=this;return Object(y.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,f,v,m,h,x;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.length){n.next=2;break}return n.abrupt("return");case 2:if(r.isLoading[t]=!0,o=e[0],r.$forceUpdate(),o.type.match("image.*")){n.next=8;break}return alert("Please upload an image."),n.abrupt("return");case 8:return l={contentType:o.type},c=new Promise((function(e,t){r.generateVariation(o,r.FULL_IMAGE.maxDimension,r.FULL_IMAGE.quality,e)})),d=new Promise((function(e,t){r.generateVariation(o,r.THUMB_IMAGE.maxDimension,r.THUMB_IMAGE.quality,e)})),n.next=13,Promise.all([c,d]);case 13:if(f=n.sent,v=Date.now().toString(),m=r.uploadSingleImageFile(v+"_"+o.name,f[0],l),h=v+"_"+o.name.substring(0,o.name.lastIndexOf("."))+"_thumb."+o.name.substring(o.name.lastIndexOf(".")+1),x=r.uploadSingleImageFile(h,f[1],l),""===r.eventImages.images[t].imageUrl){n.next=21;break}return n.next=21,r.deleteImage(t).catch((function(e){console.log(e)}));case 21:return r.$emit("imageUpdating",!0),n.next=24,Promise.all([m,x]).then(function(){var e=Object(y.a)(regeneratorRuntime.mark((function e(n){var image;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.eventImages.images[t].imageUrl=n[0],r.eventImages.images[t].teaserImageUrl=n[1],(image=new Image).addEventListener("load",Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.eventImages.images[t].width=image.width,r.eventImages.images[t].height=image.height,image=null,e.next=5,r.updateImageFirestore();case 5:case"end":return e.stop()}}),e)})))),image.src=n[1],r.isLoading[t]=!1,r.$forceUpdate();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 24:case"end":return n.stop()}}),n)})))()},uploadSingleImageFile:function(e,t,r){return this.$fire.storage.ref("eventImages/".concat(this.eventImages.id,"/").concat(e)).put(t,r).then((function(e){return e.ref.getDownloadURL().then((function(e){return e}))})).catch((function(e){console.error("Error uploading image",e)}))},generateVariation:function(e,t,r,n){var o=this,l=new FileReader;l.onload=function(e){return l=e.target.result,(image=new Image).src=l,void(image.onload=function(){o.getScaledCanvas(image,t).toBlob(n,"image/jpeg",r)});var l,image},l.readAsDataURL(e)},getScaledCanvas:function(image,e){var t=document.createElement("canvas");return image.width>e||image.height>e?image.width>image.height?(t.width=e,t.height=e*image.height/image.width):(t.width=e*image.width/image.height,t.height=e):(t.width=image.width,t.height=image.height),t.getContext("2d").drawImage(image,0,0,image.width,image.height,0,0,t.width,t.height),t},addImage:function(){var e=this,t=this.isAdmin?50:20;if(this.eventImages.images.length>=t)return this.error="Cannot add more than ".concat(t," Photos. Please remove some photos first."),void setTimeout((function(){e.error=null}),5e3);this.eventImages.images.push({imageUrl:"",teaserImageUrl:""}),this.cropDialog.push(!1),this.isLoading.push(!1),this.$forceUpdate()},addMultipleImage:function(){this.$refs.multiImageFile.click()},removeMultiInputImageFile:function(){this.$refs.multiImageFile.value=null},removeImage:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$emit("imageUpdating",!0),e.isDeletingImage=!0,r=e.selectedIndex,""===e.eventImages.images[r].imageUrl){t.next=8;break}return t.next=6,e.deleteImage(r);case 6:t.next=9;break;case 8:e.eventImages.images.splice(r,1);case 9:e.$emit("imageUpdating",!1),setTimeout((function(){e.isDeletingImage=!1}),2e3);case 11:case"end":return t.stop()}}),t)})))()}}},D=O,j=r(55),component=Object(j.a)(D,(function(){var e=this,t=e._self._c;return e.eventImages?t(f.a,{staticClass:"pa-0 mt-0"},[t(n.a,{staticStyle:{position:"fixed",left:"50%","z-index":"100",bottom:"50px",transform:"translate(-50%, -50%)",margin:"0 auto"},attrs:{type:"success",value:!!e.success}},[e._v(e._s(e.success))]),e._v(" "),t(n.a,{staticStyle:{position:"fixed",left:"50%","z-index":"100",bottom:"50px",transform:"translate(-50%, -50%)",margin:"0 auto"},attrs:{type:"error",value:!!e.error}},[e._v(e._s(e.error))]),e._v(" "),t(c.d,{staticClass:"pa-0 py-2",staticStyle:{"word-break":"break-word"}},[e._v("\n    Add Some Comment\n  ")]),e._v(" "),t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"start"}},[t("div",{staticClass:"add-event-photo-comment",staticStyle:{flex:"1"}},[t(_.a,{attrs:{"auto-grow":"","no-resize":"",rows:"1",outlined:"",rules:[function(e){return!e||e.length<=100||"Comment must be less than 100 characters long."}]},model:{value:e.eventImages.comment,callback:function(t){e.$set(e.eventImages,"comment",t)},expression:"eventImages.comment"}})],1),e._v(" "),t("div",{staticClass:"pl-5"},[t(o.a,{attrs:{height:"55"},on:{click:e.updateImageFirestore}},[t(m.a,[e._v("\n        mdi-floppy\n        ")])],1)],1)]),e._v(" "),t(c.d,{staticClass:"pa-0 pt-2",staticStyle:{"word-break":"break-word"}},[e._v("\n    Upload Photos\n  ")]),e._v(" "),t(o.a,{staticClass:"mt-5",attrs:{block:""},on:{click:e.addImage}},[t(m.a,[e._v("mdi-plus-circle")]),e._v("\n    Add More Photo\n  ")],1),e._v(" "),t(o.a,{staticClass:"mt-5",attrs:{block:""},on:{click:e.addMultipleImage}},[t(m.a,[e._v("mdi-plus-circle")]),e._v("\n    Add Multiple Photo\n  ")],1),e._v(" "),t("input",{ref:"multiImageFile",staticStyle:{display:"none"},attrs:{multiple:"multiple",type:"file",accept:e.acceptType},on:{change:function(t){t.preventDefault(),e.multiImageMiddleware(t.target.files).then((function(){e.removeMultiInputImageFile()}))}}}),e._v(" "),e.eventImagesReversedLength?t(c.c,{staticClass:"pa-0 pt-10"},[t(h.a,e._l(e.eventImagesReversedLength,(function(r,i){return t(d.a,{key:r,staticClass:"d-flex justify-center align-center"},[t(l.a,{staticStyle:{width:"fit-content","max-width":"100%","margin-bottom":"40px",position:"relative"}},[t(o.a,{attrs:{icon:"",disabled:e.isDeletingImage},on:{click:function(t){return e.startDeleteImage(r)}}},[t(m.a,[e._v("mdi-close")])],1),e._v(" "),t(v.a,{attrs:{"retain-focus":!1,"max-width":"290"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[t(l.a,[t(c.d,{staticClass:"text-h6"},[e._v("\n                  Are you sure?\n                ")]),e._v(" "),t(c.a,[t(x.a),e._v(" "),t(o.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.removeImage(),e.confirmDialog=!1}}},[e._v("\n                    Yes\n                  ")]),e._v(" "),t(o.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.confirmDialog=!1}}},[e._v("\n                    No\n                  ")])],1)],1)],1),e._v(" "),t(c.c,[t("span",[t("div",{staticClass:"mb-4",staticStyle:{width:"260px","max-width":"100%"}},[t("label",[e._v("Imageãƒ¼"+e._s(i+1))]),e._v(" "),t("br"),e._v(" "),e.eventImages.images[r]&&e.eventImages.images[r].teaserImageUrl?t("div",{staticStyle:{width:"100%"}},[t("img",{staticStyle:{"max-width":"100%",width:"260px",height:"auto",object:"cover","object-fit":"cover",display:"inline:block"},attrs:{src:e.imgFailed?"/img/glober-image-not-found.png":e.eventImages.images[r].teaserImageUrl,alt:""},on:{error:function(t){e.imgFailed=!0}}})]):t("div",[e.isLoading[r]?t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{"min-height":"200px",width:"260px"}},[e.isLoading[r]?t("Spinner"):e._e()],1):e._e()]),e._v(" "),t(o.a,{staticClass:"button-style",attrs:{elevation:"0",disabled:e.isLoading[r]},on:{click:function(t){return t.preventDefault(),function(t){e.launchImageFile(r)}.apply(null,arguments)}}},[e._v("\n                    "+e._s(e.isLoading[r]?"Uploading...":"Choose File")+"\n                  ")]),e._v(" "),t("input",{ref:"imageFile".concat(r),refInFor:!0,staticStyle:{display:"none"},attrs:{type:"file",accept:e.acceptType},on:{click:function(t){e.removeInputImageFile(r)},change:function(t){return t.preventDefault(),e.imageMiddleware(t.target.files,r)}}}),e._v(" "),e.cropDialog.length>r?t(v.a,{attrs:{persistent:e.isCropping,"offset-y":"","max-width":"600px","max-height":"350px"},model:{value:e.cropDialog[r],callback:function(t){e.$set(e.cropDialog,r,t)},expression:"cropDialog[index]"}},[t(l.a,{staticClass:"d-flex flex-column justify-center align-center"},[t(h.a,{staticClass:"ma-0",staticStyle:{width:"100%"}},[t(d.a,{staticClass:"d-flex justify-center pa-0"},[t("client-only",[t("ImageCropper",{attrs:{imgSrcIn:e.imgSrc,index:r,fileType:e.fileImageCropper.type,fileName:e.fileImageCropper.name,fileWidth:e.fileImageCropper.width,fileHeight:e.fileImageCropper.height},on:{isCropping:e.isCroppingHandler,cropImg:e.cropImgEventHandler}})],1)],1)],1),e._v(" "),t(c.a,[t(x.a),e._v(" "),t(o.a,{attrs:{color:"primary",text:""},on:{click:function(t){e.cropDialog[r]=!1,e.$forceUpdate()}}},[e._v("\n                          cancel")])],1)],1)],1):e._e()],1)])])],1)],1)})),1)],1):e._e()],1):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Spinner:r(576).default,ImageCropper:r(677).default})}}]);