(window.webpackJsonp=window.webpackJsonp||[]).push([[77,41],{572:function(e,t,n){var content=n(606);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("f3566dec",content,!0,{sourceMap:!1})},605:function(e,t,n){"use strict";n(572)},606:function(e,t,n){var r=n(25)(!1);r.push([e.i,".lds-ring[data-v-5143ab22]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div[data-v-5143ab22]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:5px;border-radius:50%;-webkit-animation:lds-ring-5143ab22 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring-5143ab22 1.2s cubic-bezier(.5,0,.5,1) infinite;border:5px solid transparent;border-top-color:#2196f3}.lds-ring div[data-v-5143ab22]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring div[data-v-5143ab22]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring div[data-v-5143ab22]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring-5143ab22{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-ring-5143ab22{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),e.exports=r},657:function(e,t,n){"use strict";n.r(t);var r={name:"LoadingSpinner"},o=(n(605),n(73)),component=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"text-center"},[e("div",{staticClass:"lds-ring"},[e("div"),e("div"),e("div"),e("div")])])}],!1,null,"5143ab22",null);t.default=component.exports},799:function(e,t,n){"use strict";n.r(t);var r=n(88),o=n(522),c=(n(54),n(45),n(68),n(16),n(76),n(79),n(18),n(19),n(23),n(24),n(1)),l=n(22),d=(n(42),n(46),n(34),n(167),n(74),n(63),n(7),n(17),n(62),n(656));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var y={components:{Spinner:n(657).default,Post:d.default},data:function(){return{posts:[],eof:!1,isLoading:!1,lastDoc:null,batchSize:5,eventIds:{},userIds:{}}},computed:{user:function(){return this.$store.state.authUser}},mounted:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.user){t.next=4;break}return t.next=3,e.loadBlogs();case 3:window.addEventListener("scroll",e.loadMore);case 4:case"end":return t.stop()}}),t)})))()},destroyed:function(){window.removeEventListener("scroll",this.loadMore)},methods:{loadBlogs:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoading&&!e.eof){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,n=e.$fire.firestore,r=n.collection("eventImages").orderBy("createdAt","desc").limit(e.batchSize),e.lastDoc&&(r=r.startAfter(e.lastDoc)),t.next=8,r.get();case 8:if(o=t.sent,e.eof=o.empty,!(o.size>0)){t.next=29;break}e.lastDoc=o.docs[o.docs.length-1],c=[],l=v(o.docs),t.prev=14,f=regeneratorRuntime.mark((function t(){var n,r,data,o,l,f,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.value,r=n.id,data=n.data(),o="",data.comment&&(l=data.comment.match(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi),o=data.comment,l&&l.map((function(e){o=o.replace(e,"<a style='color:blue !important' href=\""+e+'" target="_BLANK">'+e+"</a>")}))),e.eventIds[data.eventId]||(f=e.$fire.firestore.collection("events").doc(data.eventId).get(),c.push(f)),e.userIds[data.userId]||(v=e.$fire.firestore.collection("users").doc(data.userId).get(),c.push(v)),t.next=9,Promise.all(c).then((function(t){t.forEach((function(t){var n=t.id,data=t.data();n&&data&&(data.title&&(e.eventIds[n]=data),data.email&&(e.userIds[n]=data))}))}));case 9:e.posts.push(m(m(m(m({id:r},e.eventIds[data.eventId]),e.userIds[data.userId]),data),{},{alteredComment:o}));case 10:case"end":return t.stop()}}),t)})),l.s();case 17:if((d=l.n()).done){t.next=21;break}return t.delegateYield(f(),"t0",19);case 19:t.next=17;break;case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(14),l.e(t.t1);case 26:return t.prev=26,l.f(),t.finish(26);case 29:e.isLoading=!1;case 30:case"end":return t.stop()}}),t,null,[[14,23,26,29]])})))()},loadMore:function(){!(this.$el.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)+100)||this.isLoading||this.eof||this.loadBlogs()}}},w=n(73),component=Object(w.a)(y,(function(){var e=this,t=e._self._c;return e.user?t(o.a,{staticClass:"d-flex flex-column justify-center align-center"},[t("h1",{staticClass:"d-flex justify-center align-center mt-7 mb-3 mt-md-9 blue--text text-decoration-underline",staticStyle:{"text-align":"center",width:"100%"}},[e._v(" Welcome ")]),e._v(" "),e._l(e.posts,(function(e){return t("Post",{key:e.createdAt,staticClass:"mb-0 pa-0",attrs:{"keep-alive":"",post:e}})})),e._v(" "),e.isLoading?t("Spinner",{staticStyle:{"min-height":"90px"}}):e._e(),e._v(" "),e.isLoading?e._e():t(r.d,{staticStyle:{"min-height":"90px"}},[e._v("No more posts.")])],2):t(o.a,[t("h1",[e._v("\n    You must be logged in to view this page.\n  ")]),e._v("\n  Go to "),t("NuxtLink",{staticClass:"primary--text",attrs:{color:"blue",to:"/"}},[e._v("\n      Home page\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Post:n(656).default,Spinner:n(524).default})}}]);